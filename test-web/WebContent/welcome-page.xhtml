<!DOCTYPE html>
<html lang="en"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">

	<h:head>
		<title>Successful Login </title>
		
		<script type="text/javascript">
		function backPressed() {
			if (window.history &amp;&amp; history.pushState) {
			    addEventListener('load', function() {
			        history.pushState(null, null, null); // creates new history entry with same URL
			        addEventListener('popstate', function() {			            
			                history.pushState(null, null, null);			        
			        });    
			    });
			}
		}
		</script>
		
	</h:head>
	<h:body>
	
	Welcome!<br/>
		Your username is #{checkAuthentication.username}<br/>
		Your password is #{checkAuthentication.password}
		<h:form>
		<h:commandButton value="Logout" action="#{checkAuthentication.logout}" /><br/>
		<h:commandButton value="Update User Info" action="#{userController.loadUser(checkAuthentication.username)}" /><br/>
	</h:form>
	
	<br/><br/>
	
	<h:dataTable value="#{userController.getUsers()}" var="tempUser" border="1">
		
		<h:column>
			<!-- the column header -->
			<f:facet name="header">First Name</f:facet>
			
			<!--  the value for each row -->
			#{tempUser.firstname}
		</h:column>

		<h:column>
			<!-- the column header -->
			<f:facet name="header">Last Name</f:facet>
			
			<!--  the value for each row -->
			#{tempUser.lastname}
		</h:column>

		<h:column>
			<!-- the column header -->
			<f:facet name="header">Username</f:facet>
			
			<!--  the value for each row -->
			#{tempUser.uname}
		</h:column>
		
		<h:column>
			<!-- the column header -->
			<f:facet name="header">Email</f:facet>
			
			<!--  the value for each row -->
			#{tempUser.email}
		</h:column>
		
		<h:column>
			<!-- the column header -->
			<f:facet name="header">Password</f:facet>
			
			<!--  the value for each row -->
			#{tempUser.password}
		</h:column>
	</h:dataTable>
	
	<script type="text/javascript">
	 backPressed();
	</script>
	
	</h:body>
</html>