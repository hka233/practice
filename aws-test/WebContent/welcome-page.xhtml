<!DOCTYPE html>
<html lang="en"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">

	<h:head>
		<title>Successful Login </title>
		
		<script type="text/javascript">
		function backPressed() {
			if (window.history &amp;&amp; history.pushState) {
			    addEventListener('load', function() {
			        history.pushState(null, null, null); // creates new history entry with same URL
			        addEventListener('popstate', function() {			            
			                history.pushState(null, null, null);			        
			        });    
			    });
			}
		}
		</script>
		<style type="text/css">
   
   	.register-form {
   		background-color: #FFFFFF;
        margin: 1%;
        border-radius: 1.5em;
        box-shadow: 0px 11px 35px 2px rgba(0, 0, 0, 0.14);
   	}
   	
   	body {
   		background-color: #ddf5dc;
   		font-family: 'Ubuntu', sans-serif;
   	}
   	
   	.title {
        padding-top: 40px;
        color: #8C55AA;
        font-family: 'Ubuntu', sans-serif;
        font-weight: bold;
        font-size: 23px;
        padding-left: 2%;
        
    }
    
    .inform {
        padding-left: 30px;
        font-family: 'Ubuntu', sans-serif;
        font-size: 20px;
        padding-left: 50px;
    }
   	
   	.button {
    	position:fixed;
   		right:100px;
   		top:40px;
    }
    
    .link{
		position:fixed;
   		right:50px;
   		top:40px;
	}
	
    .update {
    	position:fixed;
   		right:50px;
   		top:60px;
    }
   	
	.respass {
    	position:fixed;
   		right:50px;
   		top:80px;
    }
   	
   .table {
   	max-width: 90%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 10px;
  padding-right: 10px;
   }
  .col-1 {
    flex-basis: 15%;
  }
  .col-2 {
    flex-basis: 15%;
  }
  .col-3 {
    flex-basis: 15%;
  }
  .col-4 {
    flex-basis: 40%;
  }
  .col-5 {
    flex-basis: 15%;
  }
  
   </style>
	</h:head>
	<h:body>
	<div class= "register-form" >
	<p class="title" ><h:outputText value="#{userController.getUsers().uname}" /> </p> <br/>
		<p class="inform" > <h:outputText value="#{userController.getUsers().password}" /></p>
		<h:form>
		
		<h:commandLink class="link" value="Logout" action="#{userController.logout}" /><br/>
		<h:commandLink class = "update" value="Update User Info" action="#{userController.loadUser(userController.username)}" /><br/>
		<h:commandLink class = "respass" value="Change Password" action="#{userController.navigateResetPass}" /><br/>
	</h:form>
	
	<br/><br/>
	<div class="table" >
	<h:dataTable value="#{userController.getUsers()}" var="tempUser" border="1">
		
		<h:column>
			<!-- the column header -->
			<div class="col col-1"><f:facet name="header">First Name</f:facet></div>
			
			<!--  the value for each row -->
			#{tempUser.firstname}
		</h:column>

		<h:column>
			<!-- the column header -->
			<div class="col col-2"><f:facet name="header">Last Name</f:facet></div>
			
			<!--  the value for each row -->
			#{tempUser.lastname}
		</h:column>

		<h:column>
			<!-- the column header -->
			<div class="col col-3"><f:facet name="header">Username</f:facet></div>
			
			<!--  the value for each row -->
			#{tempUser.uname}
		</h:column>
		
		<h:column>
			<!-- the column header -->
			<div class="col col-4"><f:facet name="header">Email</f:facet></div>
			
			<!--  the value for each row -->
			#{tempUser.email}
		</h:column>
		
		<h:column>
			<!-- the column header -->
			<div class="col col-5"><f:facet name="header">Password</f:facet></div>
			
			<!--  the value for each row -->
			#{tempUser.password}
		</h:column>
	</h:dataTable><br/>
	</div>
	
	<script type="text/javascript">
	 backPressed();
	</script>
	</div>
	</h:body>
</html>